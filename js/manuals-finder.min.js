!function(a,e,t,n){"use strict";function i(){e("[data-manuals-finder]").each(function(){var a=["brand","type","model"],t=e("<div />",{"class":"row parts-bar"});e.each(a,function(n){t.append(e("<div />",{"class":"large-4 columns step-"+parseInt(n+1)}).append(e("<fieldset />").append(e("<legend />",{text:"Step "+parseInt(n+1)})).append(e("<select />",{name:a[n]+"-list"}))))});var n=e(this).data("category")?{$elemMatch:{ID:{$regex:encodeURIComponent("^"+e(this).data("category")+"_(?!BATTERIES)")}}}:{$elemMatch:{ID:{$regex:encodeURIComponent("[A-Z]_(?!BATTERIES)")}}};t.data("cat",e(this).data("category")||"ALL"),e(this).append(t),o(e(this),n)})}function o(a,t){var n=JSON.stringify({Attributes:{$elemMatch:{$and:[{ID:"Manual"},{Name:{$regex:"(manual|Manual)"}}]}},Displayable:1,Categories:t}),i=JSON.stringify({BrandName:1}),o=JSON.stringify({_id:0,BrandID:1,BrandName:1,Categories:1,Status:1});e.ajax({url:p+n+"/0/"+i+"/"+o+"?callback=?",type:"GET",dataType:"json",success:function(n){c(a),a.find('[name="type-list"], [name="model-list"]').empty(),a.find('[name="brand-list"]').empty().parent().addClass("active").end().append(e("<option />",{text:"Select Brand"})).off().on("change",function(n){n.preventDefault(),a.find(".step-3").animate({opacity:0},250),e(this).parent().removeClass("active"),r(a,t,this.value)});var i=[],o={};e.each(n,function(a,e){i[a]=e.BrandID,o[e.BrandID]=e.BrandName}),i=i.unique(),e.each(i,function(t){a.find('[name="brand-list"]').append(e("<option />",{value:i[t],text:o[i[t]]}))})}})}function r(a,t,n){var i=JSON.stringify({Attributes:{$elemMatch:{$and:[{ID:"Manual"},{Name:{$regex:"(manual|Manual)"}}]}},Displayable:1,BrandID:n,Categories:t}),o=JSON.stringify({Categories:1}),r=JSON.stringify({_id:0,Categories:1});e.ajax({url:p+i+"/0/"+o+"/"+r+"?callback=?",type:"GET",dataType:"json",success:function(t){c(a),a.find(".step-2").animate({opacity:1},500),a.find('[name="model-list"]').empty(),a.find('[name="type-list"]').empty().parent().addClass("active").end().append(e("<option />",{text:"Select Type"})).off().on("change",function(t){t.preventDefault(),e(this).parent().removeClass("active"),s(a,n,this.value)});var i=[],o={};e.each(t,function(a,t){e.each(t,function(a,t){e.each(t,function(a,e){i=i.concat(e.ID),o[e.ID]=e.Name})})}),i=i.unique(),e.each(i,function(t){a.find('[name="type-list"]').append(e("<option />",{value:i[t],text:o[i[t]]}))})}})}function s(a,t,i){var o=JSON.stringify({Attributes:{$elemMatch:{$and:[{ID:"Manual"},{Name:{$regex:"(manual|Manual)"}}]}},Displayable:1,BrandID:t,Categories:{$elemMatch:{ID:i}}}),r=JSON.stringify({_id:0,ProdID:1,Name:1});e.ajax({url:p+o+"/0/{}/"+r+"?callback=?",type:"GET",dataType:"json",success:function(t){c(a),a.find(".step-3").animate({opacity:1},500),a.find('[name="model-list"]').empty().parent().addClass("active").end().append(e("<option />",{text:"Select Model"})).off().on("change",function(a){if(a.preventDefault(),e(".no-touch").length){var t=window.open("http://www.horizonhobby.com/"+this.value+"?clickpath="+e(this).closest(".parts-bar").data("cat")+"_partsfinder#support");t===n&&(location.href="http://www.horizonhobby.com/"+this.value+"?clickpath="+e(this).closest(".parts-bar").data("cat")+"_partsfinder#support")}else location.href="http://www.horizonhobby.com/"+this.value+"?clickpath="+e(this).closest(".parts-bar").data("cat")+"_partsfinder#support"}),e.each(t,function(n){a.find('[name="model-list"]').append(e("<option />",{value:t[n].ProdID,text:t[n].Name.replace(/&trade;/g,"™").replace(/&reg;/g,"®")+" ("+t[n].ProdID+")"}))})}})}function c(a){a.find(".parts-bar .active").removeClass("active")}var p="http://159.203.116.76/search/";i(),Array.prototype.unique=function(){var a=this;return a.reduce(function(a,e){return a.indexOf(e)<0&&a.push(e),a},[])}}(window,window.jQuery,document);
